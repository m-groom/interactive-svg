<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Case Studies | Michael Groom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1><a href="https://michaelgroom.net/index.html">Michael Groom</a></h1>
    <hr>
    <h2><a href="index.html"> Overview</a> | <a href="markov-chain.html">Markov Chains</a> | <a href="dag.html">DAGs</a> | Case Studies | <a href="precursor-plots.html">Feature Importance</a>
    </h2>
    <br><br>

    <div class="svg-selector">
        <div class="info-panel">
            <h3>Case Study Movies</h3>
            <p>Select a target date (any month from January 2002 to December 2024) to explore precursors for as 24-month forecast leading up to the target date. The page will display both the reconstructed and observed fields as movies for the selected date.</p>
            <strong>Controls:</strong></p>
            <ul>
                <li>Use the detrended toggle to switch between raw and detrended observed fields for the selected date.</li>
                <li>Use the sync button to align the observed fields movie to the current time and play/pause state of the reconstructed fields movie.</li>
            </ul>
        </div>

        <div class="selector-controls">
            <div class="control-row">
                <label for="target-year"><strong>Target Date:</strong></label>
                <div class="search-container">
                    <input type="text" id="target-year"
                        placeholder="Select year (2002-2024) or type to search..." autocomplete="off">
                    <div class="search-dropdown" id="target-year-dropdown">
                        <div class="dropdown-content" id="target-year-dropdown-content"></div>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" id="target-month"
                        placeholder="Select month or type to search..." autocomplete="off">
                    <div class="search-dropdown" id="target-month-dropdown">
                        <div class="dropdown-content" id="target-month-dropdown-content"></div>
                    </div>
                </div>
            </div>
            
            <button id="case-study-load-btn" disabled>Load</button>
        </div>

        <div class="content-container">
            <div class="loading" id="case-study-loading" style="display: none;">Loading case study...</div>
            <div class="error-message" id="case-study-error" style="display: none;"></div>

            <div class="case-study-content" id="case-study-content" style="display: none;">
                <div class="case-study-controls" id="case-study-controls" style="display: none;">
                    <div class="case-study-toggle">
                        <label class="detrend-switch" style="position: relative; display: inline-block; width: 50px; height: 26px; margin: 0;">
                            <input type="checkbox" id="case-study-detrend-toggle" style="opacity: 0; width: 0; height: 0;">
                            <span class="detrend-slider"></span>
                        </label>
                        <span>Detrended</span>
                    </div>
                    <button id="case-study-sync-btn" type="button">Sync</button>
                </div>
                <div id="case-study-media-container" style="display: flex; gap: 20px; justify-content: center;">
                    <!-- Case study and ground truth videos will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <br>
    <hr>

    <!-- Load the modular JavaScript files -->
    <script type="module">
        import { InteractiveSVGApp } from './js/InteractiveSVGApp.js';
        
        // Initialize only the Case Study section
        document.addEventListener('DOMContentLoaded', () => {
            const app = new InteractiveSVGApp();
            app.initializeCaseStudySection();
        });
    </script>

</body>

<footer>
    Â© 2025 Michael Groom. Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
</footer>

</html>
